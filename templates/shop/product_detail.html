{% extends 'base.html' %}
{% load static %}

{% block title %}{{ product.name }} - ShopHub{% endblock %}

{% block content %}
<div class="product-detail">
    <div class="product-image">
        {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
        {% else %}
            <img src="{% static 'images/no-image.png' %}" alt="No image">
        {% endif %}
    </div>
    
    <div class="product-details">
        <h1>{{ product.name }}</h1>
        
        <p class="product-category">
            Category: 
            <a href="{{ product.category.get_absolute_url }}">
                {{ product.category.name }}
            </a>
        </p>
        
        <p class="product-price">${{ product.price }}</p>
        
        <div class="product-description">
            <h3>Description</h3>
            <p>{{ product.description|linebreaks }}</p>
        </div>
        
        <div class="product-stock">
            {% if product.stock > 0 %}
                <p class="in-stock">✓ In Stock ({{ product.stock }} available)</p>
            {% else %}
                <p class="out-of-stock">✗ Out of Stock</p>
            {% endif %}
        </div>
        
        <div class="product-actions">
            {% if product.stock > 0 %}
                <form action="{% url 'shop:cart_add' product.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary btn-large">
                        Add to Cart
                    </button>
                </form>
            {% else %}
                <button class="btn btn-disabled btn-large" disabled>
                    Out of Stock
                </button>
            {% endif %}
        </div>
        
        <a href="{% url 'shop:product_list' %}" class="back-link">
            ← Back to Products
        </a>
    </div>
</div>
{% endblock %}